import { DataObject, Entity, HasManyDefinition } from '../..';
export declare type HasManyThroughResolvedDefinition = HasManyDefinition & {
    keyTo: string;
    keyFrom: string;
    through: {
        keyTo: string;
        keyFrom: string;
    };
};
/**
 * Creates constraint used to query target
 * @param relationMeta - resolved hasManyThrough metadata
 * @param throughInstances - Instances of through entities used to constrain the target
 * @internal
 *
 * @example
 * ```ts
 * const resolvedMetadata = {
 *  // .. other props
 *  keyFrom: 'id',
 *  keyTo: 'id',
 *  through: {
 *    model: () => CategoryProductLink,
 *    keyFrom: 'categoryId',
 *    keyTo: 'productId',
 *  },
 * };

 * createTargetConstraint(resolvedMetadata, [
      {
        id: 2,
        categoryId: 2,
        productId: 8,
      }, {
        id: 1,
        categoryId: 2,
        productId: 9,
      }
  ]);

  >>> {id: {inq: [9, 8]}}
 * ```
 */
export declare function createTargetConstraint<Target extends Entity, Through extends Entity>(relationMeta: HasManyThroughResolvedDefinition, throughInstances: Through | Through[]): DataObject<Target>;
/**
 * Creates constraint used to query through model
 *
 * @param relationMeta - resolved hasManyThrough metadata
 * @param fkValue - Value of the foreign key of the source model used to constrain through
 * @param targetInstance - Instance of target entity used to constrain through
 * @internal
 *
 * @example
 * ```ts
 * const resolvedMetadata = {
 *  // .. other props
 *  keyFrom: 'id',
 *  keyTo: 'id',
 *  through: {
 *    model: () => CategoryProductLink,
 *    keyFrom: 'categoryId',
 *    keyTo: 'productId',
 *  },
 * };
 * createThroughConstraint(resolvedMetadata, 1);
 *
 * >>> {categoryId: 1}
 * ```
 */
export declare function createThroughConstraint<Through extends Entity, ForeignKeyType>(relationMeta: HasManyThroughResolvedDefinition, fkValue: ForeignKeyType): DataObject<Through>;
/**
 * Creates constraint used to create the through model
 *
 * @param relationMeta - resolved hasManyThrough metadata
 * @param targetInstance instance of target entity used to constrain through
 * @internal
 *
 * @example
 * ```ts
 * const resolvedMetadata = {
 *  // .. other props
 *  keyFrom: 'id',
 *  keyTo: 'id',
 *  through: {
 *    model: () => CategoryProductLink,
 *    keyFrom: 'categoryId',
 *    keyTo: 'productId',
 *  },
 * };
 * createThroughConstraint(resolvedMetadata, {id: 3, name: 'a product'});
 *
 * >>> {productId: 1}
 *
 * createThroughConstraint(resolvedMetadata, {id: {inq:[3,4]}});
 *
 * >>> {productId: {inq:[3,4]}}
 */
export declare function createThroughFkConstraint<Target, Through extends Entity>(relationMeta: HasManyThroughResolvedDefinition, targetInstance: Target): DataObject<Through>;
/**
 * Resolves given hasMany metadata if target is specified to be a resolver.
 * Mainly used to infer what the `keyTo` property should be from the target's
 * belongsTo metadata
 * @param relationMeta - hasManyThrough metadata to resolve
 * @internal
 */
export declare function resolveHasManyThroughMetadata(relationMeta: HasManyDefinition): HasManyThroughResolvedDefinition;
